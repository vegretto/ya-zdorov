{"version":3,"sources":["main.js"],"names":["$","document","ready","moveElement","element","target","screenSize","append","arguments","length","undefined","after","screen","width","i","eq","appendTo","prependTo","wrap","div","createElement","style","overflowY","height","body","scrollWidth","offsetWidth","clientWidth","remove","renderClickableBG","isDark","elementToClose","id","renderParent","blockScroll","concat","css","padding-right","overflow-y","addClass","fadeOut","fadeIn","on","this","removeClass","toggleMobileMenu","mobileMenu","hasClass","Swiper","pagination","el","clickable","loop","slidesPerView","centeredSlides","navigation","nextEl","prevEl","breakpoints","767","spaceBetween","closeModal","modal","bg","bgId","openModal","attr","parents","find","submenuParent","submenu","next","setTimeout","is","prev","parent","e","preventDefault","prop","siblings","select","options","toggleClass","text","slideToggle","myMap","url","callback","script","initialFoldedHeight","initialText","check_if_load","init","mapJsonPath","myGeoObjects","getJSON","data","forEach","point","balloonInner","name","address","placemark","ymaps","Placemark","coords","balloonContent","hideIconOnBalloonOpen","balloonOffset","iconLayout","iconImageHref","push","item","geoObjects","add","Map","center","zoom","controls","behaviors","disable","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","cb","each","initialHeight","animate","renderStars","rating","c","val","querySelectorAll","IMask","mask","definitions","#","elementToScroll","documentElement","scrollTop","offset","top"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    const moveElement = (element, target, screenSize, append = true, after = false) => {\r\n        if (screen.width < screenSize) {\r\n            if (after) {\r\n                for (let i = 0; i < $(element).length; i++) {\r\n                    $(target).eq(i).after($(element).eq($(target).length === 1 ? 0 : i))\r\n                }\r\n            } else {\r\n                if (append) {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).appendTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                } else {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).prependTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (screen.width < 600) {\r\n        $('.doctors__photo').wrap('<div class=\"doctors__mobile-wrapper\"></div>');\r\n        $('.medium-block__icon').wrap('<div class=\"medium-block__mobile-wrapper\"></div>');\r\n\r\n    }\r\n    moveElement('.header__account', '.mobile-menu__bottom', 991);\r\n    moveElement('.header__promo-btn', '.mobile-menu__bottom', 991);\r\n    moveElement('.header__phone-box', '.header__middle', 991);\r\n    moveElement('.header__appointment-btn', '.header__bottom', 991);\r\n    moveElement('.doctors__worktime', '.doctors__mobile-wrapper', 600);\r\n    moveElement('.medium-block__text', '.medium-block__mobile-wrapper', 600);\r\n    moveElement('.large-block--fw .large-block__bg', '.large-block--fw .large-block__content', 1200);\r\n    moveElement('.footer__worktime', '.footer__phone-box', 600, false, true);\r\n    moveElement('.footer__account', '.footer__phone-box', 600, false, true);\r\n    moveElement('.footer__license ', '.footer__col:last-child .footer__col-inner', 600);\r\n    moveElement('.doctor-appointment .text-w-sideblock .common-btn', '.btn-wrapper--grid', 767);\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n\r\n    let renderClickableBG = (isDark, elementToClose, id, renderParent = $('body'), blockScroll = true) => {\r\n        renderParent.append(`<div class=\"clickable-bg\" id=${id}></div>`);\r\n        if (blockScroll) {\r\n            $('body').css({\r\n                'padding-right': scrollWidth,\r\n                'overflow-y': 'hidden',\r\n\r\n            });\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $(document).on('click', '.clickable-bg', function () {\r\n            $(this).remove();\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                if (blockScroll) {\r\n                    $('body').css({\r\n                        'padding-right': 0,\r\n                        'overflow-y': 'auto',\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    // Mobile menu\r\n\r\n    const toggleMobileMenu = (mobileMenu) => {\r\n        if (mobileMenu.hasClass('opened')) {\r\n            mobileMenu.removeClass('opened');\r\n            $('body').css({\r\n                'padding-right': 0,\r\n                'overflow-y': 'auto',\r\n            });\r\n        } else {\r\n            mobileMenu.addClass('opened');\r\n        }\r\n    }\r\n\r\n    $(document).on('click', '.js-open-mobile-menu', function () {\r\n        const mobileMenu = $('.mobile-menu')\r\n        toggleMobileMenu(mobileMenu);\r\n        renderClickableBG(true, mobileMenu, 'mobile-menu-bg')\r\n    })\r\n\r\n    $(document).on('click', '.js-close-mobile-menu', function () {\r\n        toggleMobileMenu($('.mobile-menu'));\r\n        $('#mobile-menu-bg').remove();\r\n    })\r\n\r\n    // Sliders\r\n\r\n    const promoSlider = new Swiper('.js-promo-slider', {\r\n        pagination: {\r\n            el: '.promo__pagination',\r\n            clickable: true,\r\n        }\r\n    });\r\n\r\n    const commonSlider = new Swiper('.js-common-slider', {\r\n        loop: true,\r\n        slidesPerView: 1,\r\n        centeredSlides: true,\r\n\r\n        pagination: {\r\n            el: '.common-slider__pagination',\r\n        },\r\n\r\n        navigation: {\r\n            nextEl: '.common-slider__arrow--next',\r\n            prevEl: '.common-slider__arrow--prev',\r\n        },\r\n        breakpoints: {\r\n            767: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20,\r\n            }\r\n        }\r\n    });\r\n\r\n    // Modals\r\n\r\n    const openModal = (modal, bgId) => {\r\n        $('.modal').removeClass('opened');\r\n        $(bgId).remove();\r\n        modal.addClass('opened');\r\n        renderClickableBG(true, modal, bgId, modal)\r\n    }\r\n\r\n    const closeModal = (modal, bg) => {\r\n        modal.removeClass('opened');\r\n        bg.remove();\r\n        $('body').css({\r\n            'padding-right': 0,\r\n            'overflow-y': 'auto',\r\n        });\r\n    }\r\n\r\n\r\n    $(document).on('click', '.js-open-modal', function () {\r\n        const modal = $($(this).attr('data-modal'));\r\n        openModal(modal, '#modal-bg')\r\n    });\r\n\r\n    $(document).on('click', '.js-close-modal', function () {\r\n        const modal = $(this).parents('.modal');\r\n        const bg = $(this).parents('.modal').find('#modal-bg')\r\n        closeModal(modal, bg);\r\n    });\r\n\r\n    // Nav menus\r\n\r\n    if (screen.width > 990) {\r\n        $(document).on('mouseover', '.header__nav-item', function () {\r\n            const submenuParent = $(this);\r\n            const submenu = $(this).next('.header__nav-submenu');\r\n            if (submenu.length > 0 && !submenuParent.hasClass('active')) {\r\n                $('.header__nav-item').removeClass('active');\r\n                $('.header__nav-submenu').removeClass('opened');\r\n                $('#submenu-bg').remove();\r\n                submenuParent.addClass('active');\r\n                submenu.addClass('opened');\r\n                renderClickableBG(false, submenu, 'submenu-bg', $('body'), false)\r\n                $('#submenu-bg').on('click', function () {\r\n                    submenuParent.removeClass('active');\r\n                })\r\n                submenu.find('.js-close').on('click', function () {\r\n                    closeModal(submenu, $('#submenu-bg'));\r\n                    submenuParent.removeClass('active');\r\n                })\r\n            }\r\n        });\r\n        $(document).on('mouseout', '.header__nav-item', function () {\r\n            const submenuParent = $(this);\r\n            const submenu = $(this).next('.header__nav-submenu');\r\n            setTimeout(function () {\r\n                if (submenu.length > 0 && !submenu.is(':hover')) {\r\n                    submenuParent.removeClass('active');\r\n                    closeModal(submenu, $('#submenu-bg'));\r\n                }\r\n            }, 350)\r\n        });\r\n        $(document).on('mouseleave', '.header__nav-submenu', function () {\r\n            const submenuParent = $(this).prev('.header__nav-item');\r\n            const submenu = $(this)\r\n            setTimeout(function () {\r\n                if (!submenuParent.is(':hover')) {\r\n                    submenuParent.removeClass('active');\r\n                    closeModal(submenu, $('#submenu-bg'));\r\n                }\r\n            }, 350)\r\n        });\r\n    } else {\r\n        $(document).on('click', '.mobile-menu__nav-submenu-toggle', function () {\r\n            const submenuParent = $(this).parent('.mobile-menu__nav-item');\r\n            const submenu = submenuParent.next('.mobile-menu__nav-submenu');\r\n            if (submenu.length > 0) {\r\n                submenu.addClass('opened');\r\n                submenu.find('.js-menu-back').on('click', function () {\r\n                    submenu.removeClass('opened');\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    // Tabs\r\n\r\n    $(document).on('click', '.js-tab-control', function (e) {\r\n        e.preventDefault();\r\n        $(this).find('input[type=radio]').prop('checked', true);\r\n        $(this).siblings('.js-tab-control.active').removeClass('active');\r\n        $(this).addClass('active');\r\n        $(this).parents('.tabs').find('.tabs__tab.visible').removeClass('visible');\r\n        const tabElem = $('#' + $(this).attr('data-tab'));\r\n        tabElem.addClass('visible');\r\n    });\r\n\r\n    $(document).on('click', '.js-select', function () {\r\n        const select = $(this);\r\n        const options = $(this).next('.js-select-options');\r\n\r\n        if (!select.hasClass('active')) {\r\n            renderClickableBG(false, $(this).next('.js-select-options'), 'mobile-tabs-bg', $('body'), false)\r\n            $('#mobile-tabs-bg').on('click', function () {\r\n                select.removeClass('active');\r\n            });\r\n        } else {\r\n            $('#mobile-tabs-bg').remove();\r\n        }\r\n        select.toggleClass('active');\r\n        options.toggleClass('opened');\r\n    })\r\n\r\n    $(document).on('click', '.js-select-options > *', function () {\r\n        const options = $(this).parent('.js-select-options');\r\n        const select = options.prev('.js-select');\r\n        select.find('.js-select-val').text($(this).text());\r\n        options.removeClass('opened');\r\n        select.removeClass('active');\r\n        $('#mobile-tabs-bg').remove();\r\n    });\r\n\r\n    // Accordion\r\n    $(document).on('click', '.js-accordion-toggle', function () {\r\n        $(this).toggleClass('active');\r\n        $(this).next('.js-accordion-content').slideToggle(300, function () {\r\n            $(this).toggleClass('opened');\r\n        });\r\n    });\r\n\r\n    /*--Maps--*/\r\n    function loadScript(url, callback) {\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState) {  //IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState === \"loaded\" ||\r\n                    script.readyState === \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function () {\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    let check_if_load = false;\r\n    const checkLoadMap = () => {\r\n        if (!check_if_load) {\r\n            check_if_load = true;\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function () {\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n    }\r\n\r\n    let myMap;\r\n\r\n    function init() {\r\n        const mapJsonPath = $('.map-container').attr('data-json');\r\n        let myGeoObjects = [];\r\n\r\n\r\n        $.getJSON(mapJsonPath, function (data) {\r\n            data.forEach(point => {\r\n                const balloonInner =\r\n                    `<div class=\"custom-balloon\">\r\n                        <div class=\"custom-balloon__bg\"></div>\r\n                        <div class=\"custom-balloon__text\"><b>${point.name}</b></div>\r\n                        <div class=\"custom-balloon__text\">${point.address}</div>\r\n                    </div>`\r\n\r\n                const placemark = new ymaps.Placemark(point.coords, {\r\n                        balloonContent: balloonInner,\r\n                    },\r\n                    {\r\n                        hideIconOnBalloonOpen: false,\r\n                        balloonOffset: [4, -37],\r\n                        iconLayout: 'default#image',\r\n                        iconImageHref: 'img/svg/marker.svg',\r\n                    }\r\n                );\r\n                myGeoObjects.push(placemark)\r\n            })\r\n            myGeoObjects.forEach(item => {\r\n                myMap.geoObjects.add(item);\r\n            })\r\n        });\r\n\r\n        myMap = new ymaps.Map('contacts-map', {\r\n            center: [48.925382, 40.401703],\r\n            zoom: 15,\r\n            controls: ['zoomControl'],\r\n        });\r\n\r\n        myMap.behaviors.disable('scrollZoom');\r\n\r\n    }\r\n\r\n    if ($('.map-container').length > 0) {\r\n        checkLoadMap();\r\n    }\r\n\r\n    // Forms\r\n\r\n    $(document).on('click', '.form-group--checkbox', function (e) {\r\n        e.preventDefault();\r\n        const cb = $(this).find('input[type=checkbox]');\r\n        cb.prop('checked', !cb.prop('checked'));\r\n        $(this).find('.js-custom-cb').toggleClass('checked');\r\n    });\r\n\r\n    // Misc\r\n\r\n    if (screen.width < 768) {\r\n        $('.adaptive-table--worktime th:last-child, .adaptive-table--worktime td:last-child').remove();\r\n    }\r\n\r\n    $('.typography ul > li, .typography ol > li').each(function () {\r\n        if ($(this).find('ul, ol').length > 0) {\r\n            $(this).addClass('no-list-style');\r\n        }\r\n    });\r\n\r\n    $('.typography table').wrap('<div class=\"adaptive-table\"></div>');\r\n\r\n    $('.js-read-more-container').each(function () {\r\n        if ($(this).height() < 175) {\r\n            $(this).parents('.js-read-more-wrapper').addClass('disabled');\r\n        }\r\n    })\r\n\r\n    let initialFoldedHeight;\r\n    let initialText;\r\n\r\n    $(document).on('click', '.js-read-more-toggle', function () {\r\n        let initialHeight = $(this).siblings('.js-read-more-container').height();\r\n        if (!$(this).hasClass('opened')) {\r\n            $(this).parent('.js-read-more-wrapper').addClass('opened')\r\n            initialFoldedHeight = $(this).parent('.js-read-more-wrapper').height();\r\n            initialText = $(this).text()\r\n            $(this).parent('.js-read-more-wrapper').animate({\r\n                height: initialHeight + 40\r\n            }, 300);\r\n            $(this).addClass('opened');\r\n            $(this).text('Свернуть');\r\n        } else {\r\n            $(this).parent('.js-read-more-wrapper').removeClass('opened')\r\n            $(this).parent('.js-read-more-wrapper').animate({\r\n                height: initialFoldedHeight + 40\r\n            }, 300);\r\n            $(this).removeClass('opened');\r\n            $(this).text(initialText);\r\n        }\r\n    });\r\n\r\n    const renderStars = (element) => {\r\n        const rating = element.attr('data-rating');\r\n        let c = 0;\r\n        element.find('.stars__item').removeClass('filled').each(function () {\r\n            if (c < rating) {\r\n                $(this).addClass('filled');\r\n                c++;\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-stars').each(function () {\r\n        renderStars($(this));\r\n    })\r\n\r\n    $('.js-stars-input .stars__item').on('click', function () {\r\n        const val = $(this).attr('data-val');\r\n        $(this).siblings('.stars__input').val(val);\r\n        $(this).parents('.js-stars-input').attr('data-rating', val);\r\n        renderStars($(this).parents('.js-stars-input'));\r\n    });\r\n\r\n    let elements = document.querySelectorAll(\"input[type='tel']\");\r\n    elements.forEach(function (element) {\r\n        let dynamicMask = IMask(element, {\r\n            mask: [\r\n                {\r\n                    mask: '+{7}(#00)000-00-00',\r\n                    definitions: {\r\n                        '#': /[12345690]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '{#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[8]/\r\n                    }\r\n                }, {\r\n                    mask: '{+#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[+7]/\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    });\r\n\r\n    $('.js-scroll-to').on('click', function () {\r\n        const elementToScroll = '#' + $(this).attr('data-scroll');\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: $(elementToScroll).offset().top - 40\r\n        }, 1000);\r\n    });\r\n\r\n});\r\n\r\n\r\n"]}